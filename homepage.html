<!DOCTYPE html>
<html lang="en">
<head>
    <title>Git Your Java Home Page</title>
    <link rel="stylesheet" href="./coffeemachine.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Castoro&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<style>

.container {
  width: 100%;  
  display: grid; 
  grid-template-columns: 1fr 1fr 1fr 1fr 1.1fr 0.9fr 1.1fr 0.9fr; 
  grid-template-rows: 0.4fr 1.6fr 1fr 1fr 1fr 1.7fr 0.1fr 2.8fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."; 
}

.title {
  width: 100%;
  padding: 15px;
  text-align: center;
  color: black;
  background: linear-gradient(65deg, #725327, #be8a41);
}

.menu {
  color: black;
  text-align: center;
  margin-top: 25px;
  border: 20px double black;
  background: linear-gradient(45deg, #57390f, #da8e26);
  display: grid; 
  grid-template-columns: 0.2fr 4fr 0.6fr 0.3fr 0.9fr 3.9fr 0.3fr 0.7fr 3.7fr 0.3fr; 
  grid-template-rows: 0.5fr 1.7fr 1.2fr 0.1fr 1.5fr 1.3fr 0.2fr 3.1fr 0.3fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . . menuTitle menuTitle menuTitle menuTitle . . ."
    ". coldMenu coldMenu . coffeeGif coffeeGif . hotMenu hotMenu ."
    ". coldMenu coldMenu . coffeeGif coffeeGif . hotMenu hotMenu ."
    ". . . . . . . . . ."
    ". coffee1 . . foodMenu foodMenu . . coffee2 ."
    ". coffee1 . . foodMenu foodMenu . . coffee2 ."
    ". . . . . . . . . ."
    ". beansMenu beansMenu . coffee3 coffee3 . merchandiseMenu merchandiseMenu ."; 
  grid-area: menu; 

  
}
.menuTitle { 
  grid-area: menuTitle; 
  padding-bottom: 5px;
  width: auto;
  height: 100px;

  }
.coldMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 2fr 0.1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: coldMenu; 
  border: 5px dashed black;
  background-color:rgba(224, 187, 91, 0.466);

}

.hotMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3.2fr 0.1fr; 
  grid-template-rows: 2fr 0.1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: hotMenu; 
  border: 5px dashed black;
  background-color: rgba(224, 187, 91, 0.466);
}

.foodMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 2.1fr 0.1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: foodMenu; 
  border: 5px dashed black;
  background-color: rgba(224, 187, 91, 0.466);

}

.beansMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 0.4fr 1.6fr 1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: beansMenu;
  border: 5px dashed black;
  background-color: rgba(224, 187, 91, 0.466);
  height: 400px;

}

.merchandiseMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 0.4fr 1.6fr 1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: merchandiseMenu; 
  border: 5px dashed black;
  background-color: rgba(224, 187, 91, 0.466);
  height: 400px;
 
}

.coffee1 { grid-area: coffee1; }
.coffee2 { grid-area: coffee2; }
.coffee3 { grid-area: coffee3; }
.coffeeGif { 
  grid-area: coffeeGif;
  padding-top: 125px; }

.coffee-machine {
    width: 300px;
    height: 280px;
    margin: 0 auto;
    position: relative;
}

body {
    background-color:rgb(241, 242, 243);
    font-family: 'Castoro', serif;
}

table {
  width: 100%;
}

tbody {
  display: block;
}

th {
  text-align: center;
}
td {
  text-align: left;
}

img {
  margin-top: 100px;
  height: 300px;
  width: 320px;
}


</style>
</head>
<body>

  <!-- this page is just CSS, the menu, and the create account/login -->


    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <img style="margin-top: 0px; width: 50px; height: 50px;" src="icon.png">
            <a class="navbar-brand" href="#">Git Your Java!</a>
          </div>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="createaccount.html"><span class="glyphicon glyphicon-user"></span> Create Account</a></li>
            <li><a href="login.html"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
          </ul>
        </div>
      </nav>

      <div class = "title">
        <h3>Git Your Java is a local Coffee Shop. Our goal is to understand the customers and be there for them, with a cup of coffee, no matter the mood.</h3>
        <h5>Please log in to place an order</h5>
      </div>

        <div class="container">
            <div class="menu">
              <div class="menuTitle">
                <h3><b>Git Your Java Menu</b></h3>
              </div>

              <div style="overflow-x:auto;" id= "coldDrinksMenu" class="coldMenu">
                
                  <table class = "table table-sm">
                    <thead>
                      <th>Cold Drinks</th>
                      
                    </thead>
                    <tbody id = "coldMenu">
  
                    </tbody>
                  </table>

              </div>

              <div style="overflow-x:auto;" id = "hotDrinksMenu" class="hotMenu">

                  <table class = "table table-sm">
                    <thead>
                      <th>Hot Drinks</th>
                      
                    </thead>
                    <tbody id = "hotMenu">
                      
                    </tbody>
                  </table>
             
              </div>

              <div style="overflow-x:auto;" id="foodItemsMenu" class="foodMenu">
              
                  <table class = "table table-sm">
                    <thead>
                      <th>Food</th>
                     
                    </thead>
                    <tbody id = "foodMenu">
                      
                    </tbody>
                  </table>
                
              </div>

              <div style="overflow-x:auto;" class = "beansMenu">
                  <table class = "table table-sm">
                    <thead>
                      <th>Coffee Beans</th>
                    
                    </thead>
                    <tbody id = "beansMenu">
                      
                    </tbody>
                  </table>
                
              </div>

              <div style="overflow-x:auto;" class="merchandiseMenu">
                
                  <table class = "table table-sm">
                    <thead>
                      <th>Merchandise</th>
                    
                    </thead>
                    <tbody id = "merchMenu">
                      
                    </tbody>
                  </table>
                
              </div>

              <div class="coffee1">
                <img src="Pictures/coffeecartoon.gif">
              </div>

              <div class="coffee2">
                <img src="Pictures/pastry.gif">
              </div>

              <div class="coffee3">
                <img src="Pictures/beanbag.gif">
              </div>

              <div class="coffeeGif">
                <div class="coffee-machine">
                    <div class="coffee-header">
                    <div class="coffee-header__buttons coffee-header__button-one"></div>
                    <div class="coffee-header__buttons coffee-header__button-two"></div>
                    <div class="coffee-header__display"></div>
                    <div class="coffee-header__details"></div>
                    </div>
                    <div class="coffee-medium">
                    <div class="coffe-medium__exit"></div>
                    <div class="coffee-medium__arm"></div>
                    <div class="coffee-medium__liquid"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-one"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-two"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-three"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-four"></div>
                    <div class="coffee-medium__cup"><b>Java</b></div>
                    </div>
                    <div class="coffee-footer"></div>
                </div>
              </div>

            </div>
          </div>
        
</body>
<script>
    //login/create account - add an id and add an event listener 
    // login functionality

    const coldMenu = document.getElementById("coldMenu");
    const hotMenu = document.getElementById("hotMenu");
    const foodMenu = document.getElementById("foodMenu");
    const beansMenu = document.getElementById("beansMenu");
    const merchMenu = document.getElementById("merchMenu"); 

    // async function for getAllProducts, called when the page loads
    async function getAllProducts(category){
      const repsonse = await fetch(`http://localhost:7000/products?category=${category}`);
      const products = await repsonse.json();

      let innerRows = "";
      for(let product of products) {
        innerRows += `
          <tr>
          <td>${product.name}</td>
          <td style= "white-space: nowrap; overflow: hidden; text-overflow:ellipsis;">${product.description}</td>
          <td>$${product.price}</td>
          </tr>`

        switch(category) {
          case "Hot":
            hotMenu.innerHTML = innerRows;
            break;
          case "Cold":
            coldMenu.innerHTML = innerRows;
            break;
          case "Food":
            foodMenu.innerHTML = innerRows;
            break;
          case "Beans":
            beansMenu.innerHTML = innerRows;
            break;
          case "Merch":
            merchMenu.innerHTML = innerRows;
            break;
        } 
      }

    }

    function addLoadEvent(func){
        var oldonload = window.onload;
        if (typeof window.onload != 'function'){
            window.onload = func;
        }
        else { 
        window.onload = function() { 
            if (oldonload) { 
                oldonload(); 
            } 
            func(); 
            } 
        }
    }


    addLoadEvent(getAllProducts("Cold"));
    addLoadEvent(getAllProducts("Hot"));
    addLoadEvent(getAllProducts("Food"));
    addLoadEvent(getAllProducts("Beans"));
    addLoadEvent(getAllProducts("Merch"));

</script>
</html>