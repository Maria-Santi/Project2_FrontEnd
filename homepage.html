<!DOCTYPE html>
<html lang="en">
<head>
    <title>Git Your Java Home Page</title>
    <link rel="stylesheet" href="./coffeemachine.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<style>
.container {
  margin: 0;
  width: 100%;  
  display: grid; 
  grid-template-columns: 1.3fr 0.7fr 1fr 1fr 1.1fr 0.9fr 0.8fr 1.2fr; 
  grid-template-rows: 0.4fr 1.6fr 1fr 1fr 1fr 1.7fr 1.9fr 0.2fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . . . . . . ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". menu menu menu menu menu menu ."
    ". . . . . . . ."; 
}
.menu {
  color: black;
  text-align: center;
  border: 7px dotted black;
  background-color:rgb(65, 63, 63);
  display: grid; 
  grid-template-columns: 0.5fr 2.3fr 0.1fr 1.1fr 1.3fr 0.1fr 2.3fr 0.4fr; 
  grid-template-rows: 0.5fr 1.7fr 0.9fr 0.1fr 1.8fr 0.7fr 0.1fr 2.9fr 0.3fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . menuTitle menuTitle menuTitle menuTitle . ."
    ". coldMenu . coffeeGif coffeeGif . hotMenu ."
    ". coldMenu . coffeeGif coffeeGif . hotMenu ."
    ". . . . . . . ."
    ". coffee1 . foodMenu foodMenu . coffee2 ."
    ". coffee1 . foodMenu foodMenu . coffee2 ."
    ". . . . . . . ."
    ". beansMenu . coffee3 coffee3 . merchandiseMenu ."
    ". . . . . . . ."; 
  grid-area: menu; 
}
.menuTitle { 
  grid-area: menuTitle; 
  padding-bottom: 5px;
  border: 5px double black;
  background-color: lightslategray;
  }
.coldMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 2fr 0.1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: coldMenu; 
  border: 5px double black;
  background-color: lightslategray;
}

.hotMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3.2fr 0.1fr; 
  grid-template-rows: 2fr 0.1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: hotMenu; 
  border: 5px double black;
  background-color: lightslategray; 
  text-align: center;
  
}

.foodMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 2.1fr 0.1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."; 
  grid-area: foodMenu; 
  border: 5px double black;
  background-color: lightslategray;
}

.beansMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 0.4fr 1.6fr 1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."
    ". . ."; 
  grid-area: beansMenu;
  border: 5px double black;
  background-color: lightslategray; 
}

.merchandiseMenu {
  display: grid; 
  grid-template-columns: 0.1fr 3fr 0.1fr; 
  grid-template-rows: 0.4fr 1.6fr 1fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    ". . ."
    ". . ."
    ". . ."; 
  grid-area: merchandiseMenu; 
  border: 5px double black;
  background-color: lightslategray;
}

.coffee1 { grid-area: coffee1; }
.coffee2 { grid-area: coffee2; }
.coffee3 { grid-area: coffee3; }
.coffeeGif { 
  grid-area: coffeeGif;
  padding-top: 50px; }

.coffee-machine {
    width: 300px;
    height: 280px;
    margin: 0 auto;
    position: relative;
}


body {
    background-color:lightsteelblue;
}

table {
  margin-left: 70px;
}

th {
  text-align: center;
}

img {
  margin: 0 auto;
  height: 300px;
  width: 320px;
}


</style>
</head>
<body>

  <!-- this page is just CSS, the menu, and the create account/login -->


    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <img style="width: 50px; height: 50px;" src="icon.png">
            <a class="navbar-brand" href="#">Git Your Java!</a>
          </div>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#"><span class="glyphicon glyphicon-user"></span> Create Account</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
          </ul>
        </div>
      </nav>

        <div class="container">

            <div class="menu">
              <div class="menuTitle">
                <h3><b>Git Your Java Menu</b></h3>
              </div>

              <div id= "coldDrinksMenu" class="coldMenu">
                
                  <table class = "table">
                    <thead class="thead-dark">
                      <th>Cold Drinks</th>
                      <tr>
                        <th scope="col">Name</th> 
                        <th scope="col">Price</th>
                      </tr>
                    </thead>
                    <tbody id = "coldMenu">
  
                    </tbody>
                  </table>

              </div>

              <div id = "hotDrinksMenu" class="hotMenu">

                  <table class = "table">
                    <thead class="thead-dark">
                      <th>Hot Drinks</th>
                      <tr>
                        <th scope="col">Name</th> 
                        <th scope="col">Price</th>
                      </tr>
                    </thead>
                    <tbody id = "hotMenu">
                      
                    </tbody>
                  </table>
             
              </div>

              <div id="foodItemsMenu" class="foodMenu">
              
                  <table class = "table">
                    <thead class="thead-dark">
                      <th>Food</th>
                      <tr>
                        <th scope="col">Name</th> 
                        <th scope="col">Price</th>
                      </tr>
                    </thead>
                    <tbody id = "foodMenu">
                      
                    </tbody>
                  </table>
                
              </div>

              <div class = "beansMenu">
                  <table class = "table">
                    <thead class="thead-dark">
                      <th>Coffee Beans</th>
                      <tr>
                        <th scope="col">Name</th> 
                        <th scope="col">Price</th>
                      </tr>
                    </thead>
                    <tbody id = "beansMenu">
                      
                    </tbody>
                  </table>
                
              </div>

              <div class="merchandiseMenu">
                
                  <table class = "table">
                    <thead class="thead-dark">
                      <th>Merchandise</th>
                      <tr>
                        <th scope="col">Name</th> 
                        <th scope="col">Price</th>
                      </tr>
                    </thead>
                    <tbody id = "merchMenu">
                      
                    </tbody>
                  </table>
                
              </div>

              <div class="coffee1">
                <img src="coffeecartoon.gif">
              </div>

              <div class="coffee2">
                <img src="pastry.gif">
              </div>

              <div class="coffee3">
                <img src="beanbag.gif">
              </div>

              <div class="coffeeGif">
                <div class="coffee-machine">
                    <div class="coffee-header">
                    <div class="coffee-header__buttons coffee-header__button-one"></div>
                    <div class="coffee-header__buttons coffee-header__button-two"></div>
                    <div class="coffee-header__display"></div>
                    <div class="coffee-header__details"></div>
                    </div>
                    <div class="coffee-medium">
                    <div class="coffe-medium__exit"></div>
                    <div class="coffee-medium__arm"></div>
                    <div class="coffee-medium__liquid"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-one"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-two"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-three"></div>
                    <div class="coffee-medium__smoke coffee-medium__smoke-four"></div>
                    <div class="coffee-medium__cup"><b>Java</b></div>
                    </div>
                    <div class="coffee-footer"></div>
                </div>
              </div>

            </div>
          </div>
        
    
</body>
<script>
    //login/create account - add an id and add an event listener 
    // login functionality

    const coldMenu = document.getElementById("coldMenu");
    const hotMenu = document.getElementById("hotMenu");
    const foodMenu = document.getElementById("foodMenu");
    const beansMenu = document.getElementById("beansMenu");
    const merchMenu = document.getElementById("merchMenu"); 

    // async function for getAllProducts, called when the page loads
    async function getAllProducts(category){
      const repsonse = await fetch(`http://localhost:7000/products?category=${category}`);
      const products = await repsonse.json();

      let innerRows = "";
      for(let product of products) {
        innerRows += `
          <tr>
          <td style="text-align: center; vertical-align: middle;">${product.name}</td>
          <td style="text-align: center; vertical-align: middle;">$${product.price}</td>
          </tr>`

        switch(category) {
          case "Hot":
            hotMenu.innerHTML = innerRows;
            break;
          case "Cold":
            coldMenu.innerHTML = innerRows;
            break;
          case "Food":
            foodMenu.innerHTML = innerRows;
            break;
          case "Beans":
            beansMenu.innerHTML = innerRows;
            break;
          case "Merch":
            merchMenu.innerHTML = innerRows;
            break;
        } 
      }

    }

    function addLoadEvent(func){
        var oldonload = window.onload;
        if (typeof window.onload != 'function'){
            window.onload = func;
        }
        else { 
        window.onload = function() { 
            if (oldonload) { 
                oldonload(); 
            } 
            func(); 
            } 
        }
    }


    addLoadEvent(getAllProducts("Cold"));
    addLoadEvent(getAllProducts("Hot"));
    addLoadEvent(getAllProducts("Food"));
    //addLoadEvent(getAllProducts("Beans"));
    //addLoadEvent(getAllProducts("Merch"));

</script>
</html>